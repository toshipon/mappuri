{"version":3,"file":"public/javascripts/app.js","sources":["app/application.coffee","app/controllers/base/controller.coffee","app/controllers/home-controller.coffee","app/initialize.coffee","app/lib/utils.coffee","app/lib/view-helper.coffee","app/mediator.coffee","app/models/base/collection.coffee","app/models/base/model.coffee","app/models/outing-collection.coffee","app/models/outing.coffee","app/routes.coffee","app/views/base/collection-view.coffee","app/views/base/view.coffee","app/views/home/header-view.coffee","app/views/home/home-page-view.coffee","app/views/home/outing-collection-view.coffee","app/views/home/outing-view.coffee","app/views/home/templates/header.hbs","app/views/home/templates/home.hbs","app/views/home/templates/outing-collection.hbs","app/views/home/templates/outing.hbs","app/views/site-view.coffee","app/views/templates/site.hbs"],"names":[],"mappings":"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","sourcesContent":["# The application object.\nOutingCollection = require 'models/outing-collection'\n\nmodule.exports = class Application extends Chaplin.Application\n  start: ->\n    # You can fetch some data here and start app\n    # (by calling `super`) after that.\n    super\n    @initMediator()\n    Chaplin.mediator.outingCollection.fetch()\n\n  initMediator: ->\n    Chaplin.mediator.outingCollection = new OutingCollection\n    Chaplin.mediator.seal()\n\n","SiteView = require 'views/site-view'\n\nmodule.exports = class Controller extends Chaplin.Controller\n  # Compositions persist stuff between controllers.\n  # You may also persist models etc.\n  beforeAction: ->\n    @compose 'site', SiteView\n","Controller = require 'controllers/base/controller'\nHeaderView = require 'views/home/header-view'\nHomePageView = require 'views/home/home-page-view'\n\nmodule.exports = class HomeController extends Controller\n  beforeAction: ->\n    super\n    @compose 'header', HeaderView, region: 'header'\n\n  index: ->\n    @view = new HomePageView region: 'main'\n","Application = require 'application'\nroutes = require 'routes'\n\n$.ajaxPrefilter( ( options, originalOptions, jqXHR )->\n    options.url = 'http://localhost:8000/' + options.url\n    options.crossDomain =\n        crossDomain: true\n    options.xhrFields =\n        withCredentials: true\n)\n\n# Initialize the application on DOM ready event.\n$ ->\n  new Application {\n    title: 'Brunch example application',\n    controllerSuffix: '-controller',\n    routes\n  }\n","# Application-specific utilities\n# ------------------------------\n\n# Delegate to Chaplin’s utils module.\nutils = Chaplin.utils.beget Chaplin.utils\n\n# _(utils).extend\n#  someMethod: ->\n\n# Prevent creating new properties and stuff.\nObject.seal? utils\n\nmodule.exports = utils\n","# Application-specific view helpers\n# http://handlebarsjs.com/#helpers\n# --------------------------------\n\nregister = (name, fn) ->\n  Handlebars.registerHelper name, fn\n\n# Map helpers\n# -----------\n\n# Make 'with' behave a little more mustachey.\nregister 'with', (context, options) ->\n  if not context or Handlebars.Utils.isEmpty context\n    options.inverse(this)\n  else\n    options.fn(context)\n\n# Inverse for 'with'.\nregister 'without', (context, options) ->\n  inverse = options.inverse\n  options.inverse = options.fn\n  options.fn = inverse\n  Handlebars.helpers.with.call(this, context, options)\n\n# Get Chaplin-declared named routes. {{url \"likes#show\" \"105\"}}\nregister 'url', (routeName, params..., options) ->\n  Chaplin.helpers.reverse routeName, params\n","mediator = module.exports = Chaplin.mediator\n","Model = require './model'\n\nmodule.exports = class Collection extends Chaplin.Collection\n  # Mixin a synchronization state machine.\n  # _(@prototype).extend Chaplin.SyncMachine\n  # initialize: ->\n  #   super\n  #   @on 'request', @beginSync\n  #   @on 'sync', @finishSync\n  #   @on 'error', @unsync\n\n  # Use the project base model per default, not Chaplin.Model\n  model: Model\n\n  sync: (method, model, options)->\n    options.dataType = 'jsonp'\n    super\n","# Base model.\nmodule.exports = class Model extends Chaplin.Model\n  # Mixin a synchronization state machine.\n  # _(@prototype).extend Chaplin.SyncMachine\n  # initialize: ->\n  #   super\n  #   @on 'request', @beginSync\n  #   @on 'sync', @finishSync\n  #   @on 'error', @unsync\n","Collection = require 'models/base/collection'\nOuting = require 'models/outing'\n\nmodule.exports = class OutingCollection extends Collection\n    model: Outing\n    url: 'outings'\n\n    sync: ->\n        super\n        @publishEvent 'home#render'\n","Model = require 'models/base/model'\n\nmodule.exports = class Outing extends Model","module.exports = (match) ->\n  match '', 'home#index'\n","View = require './view'\n\nmodule.exports = class CollectionView extends Chaplin.CollectionView\n  # This class doesn’t inherit from the application-specific View class,\n  # so we need to borrow the method from the View prototype:\n  getTemplateFunction: View::getTemplateFunction\n","require 'lib/view-helper' # Just load the view helpers, no return value\n\nmodule.exports = class View extends Chaplin.View\n  # Auto-save `template` option passed to any view as `@template`.\n  optionNames: Chaplin.View::optionNames.concat ['template']\n\n  # Precompiled templates function initializer.\n  getTemplateFunction: ->\n    @template\n","View = require 'views/base/view'\n\nmodule.exports = class HeaderView extends View\n  autoRender: true\n  className: 'header'\n  tagName: 'header'\n  template: require './templates/header'\n","View = require 'views/base/view'\nOutingCollectionView = require 'views/home/outing-collection-view'\n\nmodule.exports = class HomePageView extends View\n  autoRender: true\n  className: 'home-page'\n  template: require './templates/home'\n\n  initialize: ->\n    super\n    @delegate 'click', '.reload-btn', @clickReloadBtn\n    @delegate 'submit','#outing-form', @submitOuting\n    @subscribeEvent 'home#render', @render\n\n  render: ->\n    super\n    @outingCollectionView = new OutingCollectionView collection: Chaplin.mediator.outingCollection\n    @subview 'outingCollectionView', @outingCollectionView\n\n  clickReloadBtn: (e)->\n    Chaplin.mediator.outingCollection.fetch()\n    @render()\n\n  submitOuting: (e)->\n    $form = @$('#outing-form')\n    Chaplin.mediator.outingCollection.create({\n        Name: $form.find('[name=Name]').val()\n        Places: $form.find('[name=Places]').val()\n    })\n    @render()\n    return false","CollectionView = require 'views/base/collection-view'\nOutingView = require 'views/home/outing-view'\n\nmodule.exports = class OutingCollectionView extends CollectionView\n    autoRender: yes\n    container: '.outings-render-section'\n    className: 'outing-list'\n    tagName: 'ul'\n    template: require './templates/outing-collection'\n    itemView: OutingView\n","View = require 'views/base/view'\n\nmodule.exports = class OutingView extends View\n    autoRender: yes\n    className: 'outing-row'\n    tagName: 'li'\n    template: require './templates/outing'\n","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<h1>Mappuri</h1>\\n\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<button class='reload-btn'>reload</button>\\n<form id='outing-form'>\\n  <input name=\\\"Name\\\" placeholder='Name' value>\\n  <input name=\\\"Places\\\" placeholder='Places' value>\\n  <button>Add</button>\\n</form>\\n<div class='outings-render-section'></div>\\n\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\";\n\n\n  return buffer;\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<p>\";\n  if (stack1 = helpers.Id) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.Id; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n<p>\";\n  if (stack1 = helpers.Name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.Name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n<p>\";\n  if (stack1 = helpers.Places) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.Places; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n\";\n  return buffer;\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","View = require 'views/base/view'\n\n# Site view is a top-level view which is bound to body.\nmodule.exports = class SiteView extends View\n  container: 'body'\n  id: 'site-container'\n  regions:\n    header: '#header-container'\n    main: '#page-container'\n  template: require './templates/site'\n","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"header-container\\\" id=\\\"header-container\\\"></div>\\n\\n<div class=\\\"outer-page-container\\\">\\n  <div class=\\\"page-container\\\" id=\\\"page-container\\\">\\n  </div>\\n</div>\\n\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}